---

name: openstack resource
description: define a teflo host openstack resource to be provisioned using Linchpin

provision:
  - name: openstack-node
    role: node
    provisioner: linchpin-wrapper
    provider:
      name: openstack
      credential: openstack-creds
      image: rhel-7.5-server-x86_64-released
      flavor: m1.small
      networks:
        - '{{ network }}'
      keypair: '{{ keypair }}'
      additional_volumes:
        - name: "data-volume"
          size: 1
          device_name: "/dev/vdb"
        - name: "log-volume"
          size: 2
          device_name: "/dev/vdc"
    ansible_params:
      ansible_user: cloud-user
      ansible_ssh_private_key_file: "keys/{{ keypair }}"
